var G5_Core=window.G5_Core||{},G5_Core_Animation=window.G5_Core_Animation||{};(function(a){"use strict";window.G5_Core=G5_Core;var e=a(window),t=a("body"),i=t.hasClass("gf-lazy-load"),n=t.hasClass("rtl"),s=navigator.userAgent.toLowerCase(),o=s.match(/(iphone|ipod|android|iemobile)/),r=s.match(/(iphone|ipod|ipad|android|iemobile)/),d=s.match(/(iphone|ipod|ipad)/),l=s.match(/(iemobile)/),c=0;G5_Core.util={init:function(){this.events(),this.pageTransition(),this.pageLoading(),this.topDrawerToggle(),this.tableCellLayout(),this.backToTop(),this.magnificPopup(),this.tooltip()},tooltip:function(){a().tooltip&&!r&&(!t.hasClass("woocommerce-compare-page")&&a("[data-toggle=\"tooltip\"]").tooltip(),a(".yith-wcwl-wishlistexistsbrowse,.yith-wcwl-add-button,.yith-wcwl-wishlistaddedbrowse").each(function(){var e=a("a",a(this)).text().trim(),t="bottom";0<a(this).closest(".summary-product").length&&(t="top"),a(this).tooltip({title:e,placement:"top"})}),a(".compare",".woocommerce").each(function(){var e=a(this).text().trim();a(this).tooltip({title:e})}))},events:function(){e.on("resize",this.tableCellLayout),e.on("scroll",function(){var e=t.height();e!==c&&(c=e,"undefined"!=typeof Waypoint&&Waypoint.refreshAll())})},pageTransition:function(){if(t.hasClass("page-transitions")){var e=this;a(".animsition-link, a[href]:not([target=\"_blank\"]):not([href^=\"#\"]):not([href*=\"javascript\"]):not([href*=\".jpg\"]):not([href*=\".jpeg\"]):not([href*=\".gif\"]):not([href*=\".png\"]):not([href*=\".mov\"]):not([href*=\".swf\"]):not([href*=\".mp4\"]):not([href*=\".flv\"]):not([href*=\".avi\"]):not([href*=\".mp3\"]):not([href^=\"mailto:\"]):not([class*=\"no-animation\"]):not([class*=\"prettyPhoto\"]):not([class*=\"add_to_wishlist\"]):not([class*=\"add_to_cart_button\"]):not([class*=\"compare\"])").on("click",function(t){if(0<a(t.target).closest(a("b.x-caret",this)).length||0<a(t.target).closest(a("b.menu-caret",this)).length)return void t.preventDefault();t.preventDefault();var i=a(this),n=i.attr("href");2===t.which||t.metaKey||t.shiftKey||-1!==navigator.platform.toUpperCase().indexOf("WIN")&&t.ctrlKey?window.open(n,"_blank"):e.fadePageOut(n)})}},pageLoading:function(){var e=this;a(window).load(function(){e.fadePageIn()})},fadePageIn:function(){if(t.hasClass("page-loading")){var e=a(".site-loading");e.animate({opacity:0,delay:200},1000,"linear",function(){e.css("display","none")})}},fadePageOut:function(e){a(".site-loading").css("display","block").animate({opacity:1,delay:200},600,"linear"),a("html,body").animate({scrollTop:"0px"},800),setTimeout(function(){window.location=e},600)},topDrawerToggle:function(){a(".top-drawer-toggle").on("click",function(e){e.preventDefault();var t=a(this).closest(".top-drawer-wrap"),i=t.find(".top-drawer-inner"),n=t.find("i");i.is(":hidden")?n.attr("class","fa fa-minus"):n.attr("class","fa fa-plus"),i.slideToggle("slow")})},tableCellLayout:function(){a("[data-table-cell=\"true\"]").each(function(){var e=a(this),t=e.find(".gf-table-cell-left"),i=e.find(".gf-table-cell-right");0===t.length||0===i||(e.removeClass("gf-table-cell"),t.outerWidth()+i.outerWidth()<e.outerWidth()&&e.addClass("gf-table-cell"))})},backToTop:function(){var t=a(".back-to-top");0<t.length&&(t.on("click",function(e){e.preventDefault(),a("html,body").animate({scrollTop:"0px"},800)}),e.on("scroll",function(){var a=e.scrollTop(),i=e.height()/2;a>i?t.addClass("in"):t.removeClass("in")}))},setPushState:function(e){var a=document.title;"function"==typeof window.history.pushState&&window.history.pushState(null,a,e)},magnificPopup:function(e){"undefined"==typeof e&&(e=t),a("[data-magnific]",e).each(function(){var e=a(this),t=a.extend({},{type:"image",mainClass:"mfp-zoom-in",midClick:!0,removalDelay:500,callbacks:{beforeOpen:function(){switch(this.st.type){case"image":this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim");break;case"iframe":this.st.iframe.markup=this.st.iframe.markup.replace("mfp-iframe-scaler","mfp-iframe-scaler mfp-with-anim");}},change:function(){var e=this;this.isOpen&&(this.wrap.removeClass("mfp-ready"),setTimeout(function(){e.wrap.addClass("mfp-ready")},10))}}},e.data("magnific-options"));if("undefined"!=typeof t.galleryId){var i=[],n=[],s=a("[data-gallery-id=\""+t.galleryId+"\"]");s.each(function(){var e=a(this).attr("href");0>n.indexOf(e)&&(n.push(e),i.push({src:e}))}),t.items=i,t.gallery={enabled:!0},t.callbacks.beforeOpen=function(){var e=s.index(this.st.el);switch(0<a(this.st.el).closest(".single-product-image-thumb").length&&(e=0),this.st.type){case"image":this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim");break;case"iframe":this.st.iframe.markup=this.st.iframe.markup.replace("mfp-iframe-scaler","mfp-iframe-scaler mfp-with-anim");}-1!==e&&this.goTo(e)}}e.magnificPopup(t)})},getAdminBarOffset:function(){var e=0,t=a("#wpadminbar");return 0<t.length&&"fixed"===t.css("position")&&(e=t.outerHeight()),e},getHeaderStickyOffset:function(){var e=0,t=a(".header-sticky");return 0<t.length&&!t.hasClass("header-hidden")&&(e=80),e},getScrollOffset:function(){var e=0;return e+=this.getAdminBarOffset(),e+=this.getHeaderStickyOffset(),e},isDesktop:function(){return window.matchMedia("(min-width: 992px)").matches}},G5_Core.loading_content={init:function(){this.initLoading()},initLoading:function(){a("[data-items-wrapper]").each(function(){a(this).prepend("<div class=\"gsf-content-loading\"></div>")})},showLoading:function(e,t,i){var n=e.find("[data-items-container]"),s=n.hasClass("owl-carousel"),o=e.outerHeight(),r=e.children(".gsf-content-loading"),d=t.settings.itemSelector,l="undefined"==typeof t.settings.post_animation?"none":t.settings.post_animation,c="cat"!==t.type&&"tab"!==t.type&&t.settings.post_paging!==G5_Core.pagination_ajax.paging.paginationAjax&&t.settings.post_paging!==G5_Core.pagination_ajax.paging.nextPrev;if(!0===s||"cat"===t.type||t.settings.post_paging===G5_Core.pagination_ajax.paging.paginationAjax||t.settings.post_paging===G5_Core.pagination_ajax.paging.nextPrev||"tab"===t.type){var g=e.offset().top-G5_Core.util.getScrollOffset(),p=a(".header-sticky");p.length&&(g-=80);var h=document.documentElement.scrollTop||document.body.scrollTop,m=h-g,u=Math.abs(m)/2;800>u&&(u=800),0===a(i).closest(".x-mega-sub-menu").length&&a("html,body").animate({scrollTop:g},u,"easeInOutCubic")}if(!1==c){var f=n.offset().top-e.offset().top;r.css("top",f+100),e.css("height",o).addClass("loading"),"none"===l?n.find(d).animate({opacity:0},500,"easeOutQuad"):n.find(".gf_animate_when_almost_visible").addClass("zoom-reverse")}else{var f=e.height();"infinite-scroll"!==t.settings.post_paging&&(f-=100),r.css("top",f),e.css("height",o).addClass("loading")}},hideLoading:function(e){setTimeout(function(){e.removeClass("loading").css("height","")},500)}},G5_Core.owlCarousel={timeOutRefresh:null,init:function(e){this;"undefined"==typeof e&&(e=t),a(".owl-carousel:not(.manual):not(.owl-loaded)",e).each(function(){var e=a(this);e.imagesLoaded({background:!0},function(){var t=a.extend({},{items:4,nav:!1,navText:["<i class=\"fa fa-angle-left\"></i>","<i class=\"fa fa-angle-right\"></i>"],dots:!1,loop:!1,center:!1,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:n,lazyLoad:i,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,autoplayHoverPause:!0},e.data("owl-options"));e.on("initialized.owl.carousel",function(e){var t=e.target;a(t).trigger("owlInitialized")}),e.on("refreshed.owl.carousel,initialized.owl.carousel",function(e){setTimeout(function(){if(a(e.target).hasClass("carousel-3d")){var t=a(e.target).find(".owl-item.active.center");if(t.length){var i=.1*t.height();a(e.target).css({"padding-top":i,"padding-bottom":i})}else a(e.target).css({"padding-top":"","padding-bottom":""})}},1)}),e.owlCarousel(t)})})}},G5_Core.lazyLoad={init:function(e){"undefined"==typeof e&&(e=t),a(".gf-lazy",e).each(function(){var e=a(this);if(!e.hasClass("owl-lazy")){var t=a.extend({},{effect:"fadeIn",threshold:300,event:"scroll mouseover click"},e.data("lazyLoad-options"));e.lazyload(t),e.is("img")&&e.on("appear",function(){var a=e.closest(".isotope");a.length&&(null!=a[0].istopoTimeout&&clearTimeout(a[0].istopoTimeout),a[0].istopoTimeout=setTimeout(function(){G5_Core.isotope.layout(a)},1e3))})}})}},G5_Core.isotope={config_default:{isOriginLeft:!n},init:function(i){"undefined"==typeof i&&(i=t);var n=this;a(".isotope",i).each(function(){var e=a(this);e.imagesLoaded({background:!0},function(){var t=a.extend({},n.config_default,e.data("isotope-options")),i=e.attr("class").match(/gf-gutter-(\d{0,2})/),s=0;null!==i&&(s=parseInt(i[1])),"undefined"!=typeof t.masonry&&"undefined"!=typeof t.masonry.columnWidth&&".gsf-col-base"===t.masonry.columnWidth&&e.append("<article class=\"gsf-col-base\"></article>"),"undefined"!=typeof t.masonry&&"undefined"!=typeof t.masonry.columnWidth&&"undefined"!=typeof t.metro&&(t=a.extend({},t,{masonry:{columnWidth:n.metro_width(e,s)},resize:!1})),e.isotope(t),e.on("refreshed.owl.carousel,gf_process_quote_done",function(e){n.layout(a(e.currentTarget))}),e.on("changed.owl.carousel",function(e){"undefined"!=typeof a(e.target).data("owl.carousel")&&a(e.target).data("owl.carousel").options.autoHeight&&n.layout(a(e.currentTarget))}),e.find(".owl-carousel").length&&n.layout(e)})}),e.on("resize",function(){a(".isotope",i).each(function(){var e=a(this),t=a.extend({},n.config_default,e.data("isotope-options")),i=e.attr("class").match(/gf-gutter-(\d{0,2})/),s=-1;null!==i&&(s=parseInt(i[1])),"undefined"!=typeof t.masonry&&"undefined"!=typeof t.masonry.columnWidth&&"undefined"!=typeof t.metro&&(t=a.extend({},t,{masonry:{columnWidth:n.metro_width(e,s)},resize:!1}),e.isotope(t)),e.find(".owl-carousel").length&&n.layout(e)})})},layout:function(e){e.data("isotope")&&e.isotope("layout"),setTimeout(function(){e.data("isotope")&&e.isotope("layout")},500),setTimeout(function(){e.data("isotope")&&e.isotope("layout")},1e3)},metro_width:function(e,t){var i=this,n=e.data("isotope-options"),s=e.closest("[data-isotope-wrapper]"),o=1,r=e.data("image-size-base"),d=1;r&&(r=r.split("x"),d=parseInt(r[1],10)/parseInt(r[0],10),isNaN(d)&&(d=1)),e.find(n.itemSelector).each(function(){var e=a(this),t=i.get_multiplier_width(e),n=60/t;o<n&&(o=n)});var l=(s.width()-t*(o-1))/o,c=Math.floor(l*d);return e.find(n.itemSelector).each(function(){var e=a(this),i=e.find(" > [data-ratio]"),n=i.data("ratio");if(n){n=n.split("x");var s=n[1],o=c*s+Math.ceil(s-1)*t,r=i.find(".entry-thumbnail-overlay");r.addClass("thumbnail-size-none").css("height",o)}}),n.masonry.columnWidth},get_multiplier_width:function(e){var a=60;if(e.is("[class]")){var t=e.attr("class"),i=t.match(/col-mb-(\d{0,2})/),n=t.match(/col-xs-(\d{0,2})/),s=t.match(/col-sm-(\d{0,2})/),o=t.match(/col-md-(\d{0,2})/),r=t.match(/col-lg-(\d{0,2})/);t.match(/col-mb-12-5/)?a=12:null!==i&&(a=5*i[1]),window.matchMedia("(min-width: 600px)").matches&&(t.match(/col-xs-12-5/)?a=12:null!==n&&(a=5*n[1])),window.matchMedia("(min-width: 768px)").matches&&(t.match(/col-sm-12-5/)?a=12:null!==s&&(a=5*s[1])),window.matchMedia("(min-width: 992px)").matches&&(t.match(/col-md-12-5/)?a=12:null!==o&&(a=5*o[1])),window.matchMedia("(min-width: 1200px)").matches&&(t.match(/col-lg-12-5/)?a=12:null!==r&&(a=5*r[1]))}return a}},G5_Core_Animation=function(e,a){"undefined"!=typeof e&&(e=t),this.$wrapper=e,this.init(a)},G5_Core_Animation.prototype={itemQueue:[],delay:100,queueTimer:null,init:function(e){var a=this;a.itemQueue=[],a.queueTimer=null,"undefined"!=typeof e&&(a.delay=e),setTimeout(function(){a.registerAnimation()},200)},registerAnimation:function(){var e=this;a(".gf_animate_when_almost_visible:not(.wpb_start_animation)",e.$wrapper).each(function(t,i){a(i).waypoint(function(){var t=a(this.element).offset().top,i=a(window).scrollTop()+G5_Core.util.getScrollOffset();t<i?a(this.element).addClass("wpb_start_animation animated"):(e.itemQueue.push(this.element),e.processItemQueue()),this.destroy()},{offset:"85%"})})},processItemQueue:function(){var e=this;e.queueTimer||(e.queueTimer=window.setInterval(function(){e.itemQueue.length?(a(e.itemQueue.shift()).addClass("wpb_start_animation animated"),e.processItemQueue()):(window.clearInterval(e.queueTimer),e.queueTimer=null)},e.delay))}},G5_Core.search_popup={init:function(){this.showPopup()},showPopup:function(){a(".search-popup-link").magnificPopup({type:"inline",closeOnBgClick:!1,closeBtnInside:!1,alignTop:!0,mainClass:"mfp-move-from-top",focus:".search-popup-field",midClick:!0,removalDelay:700})}},G5_Core.search_ajax={timeOutSearch:null,xhrSearchAjax:null,init:function(){a("[data-search-ajax=\"true\"]").each(function(){var e=a(this),t=e.find("[data-search-ajax-control=\"input\"]"),i=e.find("[data-search-ajax-control=\"result\"]"),n=e.find("[data-search-ajax-control=\"icon\"]");0==t.length||0==i.length||(i.perfectScrollbar({wheelSpeed:.5,suppressScrollX:!0}),t.on("keyup",function(a){if(!(a.altKey||a.ctrlKey||a.shiftKey||a.metaKey)){if(-1==["Control","Alt","Shift"].indexOf(a.key))switch(a.which){case 27:i.removeClass("in"),i.html("");break;case 38:case 40:case 13:break;default:clearTimeout(G5_Core.search_ajax.timeOutSearch),G5_Core.search_ajax.timeOutSearch=setTimeout(G5_Core.search_ajax.searchAjax,500,e,t,n,i);}}}))})},searchAjax:function(e,t,i,n){var s=t.val();if(3>s.length)return n.removeClass("in"),void n.html("");0<i.length&&(i.addClass("fa-spinner fa-spin"),i.removeClass("fa-search")),G5_Core.search_ajax.xhrSearchAjax&&G5_Core.search_ajax.xhrSearchAjax.abort();var o=e.data("search-ajax-action"),r=e.data("search-ajax-nonce");G5_Core.search_ajax.xhrSearchAjax=a.ajax({type:"POST",data:{action:o,keyword:s,nonce:r},url:g5plus_ruby_build_variable.ajax_url,dataType:"html",success:function(e){0<i.length&&(i.removeClass("fa-spinner fa-spin"),i.addClass("fa-search")),n.html(e),n.perfectScrollbar("update"),n.addClass("in")},error:function(e){"abort"==e.statusText||0<i.length&&(i.removeClass("fa-spinner fa-spin"),i.addClass("fa-search"))}})}},G5_Core.off_canvas={init:function(){var e=this;a("[data-off-canvas=\"true\"]").each(function(){var e=a(this),i=e.data("off-canvas-target"),s=e.data("off-canvas-position"),o=a("#gf-wrapper"),r=a(i).width();a(i).addClass(s),a(i).perfectScrollbar({wheelSpeed:.5,suppressScrollX:!0}),a(i).css("top",G5_Core.util.getAdminBarOffset()),e.off("click").on("click",function(){e.hasClass("in")||a(i).hasClass("in")?(e.removeClass("in"),t.removeClass("off-canvas-in"),a(i).removeClass("in"),o.css({"margin-left":"","margin-right":""}),setTimeout(function(){t.removeClass("off-canvas-"+s)},1e3)):(t.addClass("off-canvas-"+s),setTimeout(function(){e.addClass("in"),t.addClass("off-canvas-in"),a(i).addClass("in"),t.hasClass("boxed")||t.hasClass("framed")||t.hasClass("bordered")||(n?"left"===s?o.css({"margin-left":-r,"margin-right":r}):o.css({"margin-left":r,"margin-right":-r}):"left"===s?o.css({"margin-left":r,"margin-right":-r}):o.css({"margin-left":-r,"margin-right":r}))},100))})}),a(".canvas-overlay, .close-canvas").off("click").on("click",function(){e.closeAll()}),a(window).on("resize",function(){a("[data-off-canvas=\"true\"]").each(function(){var e=a(this),t=e.data("off-canvas-target");a(t).css("top",G5_Core.util.getAdminBarOffset())})})},closeAll:function(){a("[data-off-canvas=\"true\"]").each(function(){var e=a(this),i=e.data("off-canvas-target"),n=e.data("off-canvas-position"),s=a("#gf-wrapper");(e.hasClass("in")||a(i).hasClass("in"))&&(e.removeClass("in"),t.removeClass("off-canvas-in"),a(i).removeClass("in"),s.css({"margin-left":"","margin-right":""}),setTimeout(function(){t.removeClass("off-canvas-"+n)},1e3))})}},G5_Core.cache={cache:{},addCache:function(e,a,t){"undefined"==typeof this.cache[t]&&(this.cache[t]={});"undefined"!=typeof this.cache[t][e]||(this.cache[t][e]=a)},getCache:function(e,a){return"undefined"!=typeof this.cache[a]&&"undefined"!=typeof this.cache[a][e]?this.cache[a][e]:""}},G5_Core.pagination_ajax={ajax:!1,laddaButton:null,prefix:"g5plus_ruby_build_ajax_paginate_",timeOutLoadPost:null,paging:{pagination:"pagination",paginationAjax:"pagination-ajax",loadMore:"load-more",nextPrev:"next-prev",infiniteScroll:"infinite-scroll"},init:function(){this.addCache(),this.events()},addCache:function(){var e=this;a("[data-items-paging=\"pagination-ajax\"],[data-items-paging=\"next-prev\"],[data-items-cate]").each(function(){var t=a(this).data("id"),i=a(this).closest("[data-items-wrapper]"),n=e.getVariable(t),s=i[0].outerHTML,o=i.find("[data-items-cate] > li.active a");if(""!==n){var r="undefined"==typeof n.query.paged?1:n.query.paged,d=0<o.length?parseInt(o.data("id"),10):-1;G5_Core.cache.addCache(d+"-"+r,s,t)}})},events:function(){var t=this;a(document).on("click","[data-items-paging=\"pagination-ajax\"] > a,[data-items-paging=\"load-more\"] > a,[data-items-paging=\"next-prev\"] > a,[data-items-paging=\"infinite-scroll\"] > a",function(e){e.preventDefault();var i=a(this),n=i.closest("[data-items-paging]"),s=n.data("id");t.loadPosts(s,this)}),0<a("[data-items-paging=\"infinite-scroll\"]").length&&e.on("scroll",function(){a("[data-items-paging=\"infinite-scroll\"]").each(function(){var i=a(this);if(!(0===i.length||t.ajax)&&e.scrollTop()+e.height()>i.offset().top){var n=a("> a",i);n.trigger("click")}})}),a("[data-items-cate]").each(function(){var e=a(this),i=e.attr("data-filter-type");"undefined"==typeof i&&(i="click"),a(this).on(i,"a",function(a){a.preventDefault();var n=this,s=e.data("id");"click"===i?t.loadPosts(s,this):(clearTimeout(t.timeOutLoadPost),t.timeOutLoadPost=setTimeout(t.loadPosts,500,s,n))})}),a(document).on("click","[data-items-tabs] li:not(.dropdown) > a",function(e){e.preventDefault();var i=a(this),n=i.data("id");t.loadPosts(n,this)})},getVariable:function(e){var a=this.prefix+e;return"undefined"==typeof window[a]?"":window[a]},loadPosts:function(e,t){if(!(a(t).hasClass("active")||a(t).hasClass("disable")||a(t).parent().hasClass("active")||a(t).hasClass("dropdown-toggle"))){var i=G5_Core.pagination_ajax;if(!i.ajax){i.laddaButton=null;var n=i.getVariable(e);if(""!==n){n.type=0<a(t).closest("[data-items-paging]").length?"paging":0<a(t).closest("[data-items-cate]").length?"cat":0<a(t).closest("[data-items-tabs]").length?"tab":"";var s=a(t).closest("[data-items-wrapper]"),o=s.find("[data-items-cate] > li.active a"),r=1,d=0<o.length?parseInt(o.data("id"),10):-1,l="",c="undefined"==typeof n.settings.taxonomy?"category":n.settings.taxonomy;if(G5_Core.loading_content.showLoading(s,n,t),"paging"===n.type){var g="undefined"==typeof n.settings.post_paging?i.paging.pagination:n.settings.post_paging,p=i.getCurrentPage(a(t),g);r=p.paged,n.settings.currentPage=p,(g===i.paging.loadMore||g===i.paging.infiniteScroll)&&(n.query.index=s.find(n.settings.itemSelector).not(".gsf-col-base").length),"undefined"!=typeof n.settings.cat&&""!==n.settings.cat&&(delete n.query.gf_cat,"post"===n.settings.post_type?(delete n.query.category_name,delete n.query.cat):(delete n.query.term,delete n.query[c],delete n.query.taxonomy,n.query.post_type=n.settings.post_type))}else"cat"===n.type?(p=i.getCurrentPage(a(t),""),n.settings.currentPage=p,r=1,d=parseInt(a(t).data("id"),10),l=a(t).data("name"),0<d?(n.query.gf_cat=d,"post"===n.settings.post_type?(n.query.category_name=l,n.query.cat=d):(n.query[c]=l,n.query.term=l,n.query.taxonomy=c),delete n.query.post_type):(delete n.query.gf_cat,"post"===n.settings.post_type?(delete n.query.category_name,delete n.query.cat):(delete n.query.term,delete n.query[c],delete n.query.taxonomy,n.query.post_type=n.settings.post_type))):"tab"===n.type&&(delete n.query.gf_cat,"post"===n.settings.post_type?(delete n.query.category_name,delete n.query.cat):(delete n.query.term,delete n.query[c],delete n.query.taxonomy,n.query.post_type=n.settings.post_type));var h=d+"-"+r,m=G5_Core.cache.getCache(h,e);""===m?(n.action="pagination_ajax",n.query.paged=r,n.settings.settingId=e,i.ajax=a.ajax({type:"POST",data:n,url:g5plus_ruby_build_variable.ajax_url,dataType:"html",success:function(a){G5_Core.cache.addCache(h,a,e),i.onSuccess(a,n,t),i.ajax=!1},error:function(){G5_Core.loading_content.hideLoading(s),i.ajax=!1}})):(i.ajax=!0,i.onSuccess(m,n,t),i.ajax=!1)}}}},onSuccess:function(e,t,i){var n=this,s=a(i).closest("[data-items-wrapper]"),o=s.find("[data-items-container]"),r=o.hasClass("owl-carousel");!0===r||"cat"===t.type||t.settings.post_paging===n.paging.paginationAjax||t.settings.post_paging===n.paging.nextPrev||"tab"===t.type?("cat"===t.type&&(s.find("[data-items-cate] li").removeClass("active"),a(i).closest("li").addClass("active"),a(i).closest(".dropdown").addClass("active")),"tab"===t.type&&(s.find("[data-items-tabs] li").removeClass("active"),a(i).closest("li").addClass("active"),a(i).closest(".dropdown").addClass("active")),n.updatePosts(e,t,i)):n.updatePosts(e,t,i)},updatePosts:function(e,t,i){var n=this,s=a(i).closest("[data-items-wrapper]"),o=s.find("[data-items-container]"),r=s.find("[data-items-paging]"),d=a(e),l=t.settings.itemSelector,c=d.find(l),g=d.find("[data-items-paging]"),p="undefined"==typeof t.settings.post_animation?"none":t.settings.post_animation,h="cat"!==t.type&&"tab"!==t.type&&t.settings.post_paging!==n.paging.paginationAjax&&t.settings.post_paging!==n.paging.nextPrev,m=o.hasClass("isotope"),u=o.hasClass("owl-carousel"),f=0;"none"===p&&!1===u&&c.css({opacity:0}),!1==h&&(f=500,"none"===p?o.find(l).animate({opacity:0},500,"easeOutQuad"):o.find(".gf_animate_when_almost_visible").addClass("zoom-reverse"),"undefined"!=typeof t.settings.isMainQuery&&!0===t.settings.isMainQuery&&G5_Core.util.setPushState(t.settings.currentPage.url)),setTimeout(function(){if(G5_Core.loading_content.hideLoading(s),!1===u&&(!1==h?o.html(c):o.append(c)),m){var e=o.data("isotope-options");"undefined"!=typeof e&&(!1==h?("undefined"!=typeof e.masonry&&"undefined"!=typeof e.masonry.columnWidth&&".gsf-col-base"===e.masonry.columnWidth&&o.append("<article class=\"gsf-col-base\"></article>"),o.isotope("reloadItems").isotope()):o.isotope("appended",c),G5_Core.isotope.layout(o),"undefined"!=typeof e.masonry&&"undefined"!=typeof e.masonry.columnWidth&&".gsf-col-base"===e.masonry.columnWidth&&a(window).trigger("resize"))}if(u){var n=o.data("owl.carousel"),r=n._items,l=r.length+1,g=300;if("none"!==p&&(g=0),!1==h){for(var f=r.length-1;0<=f;f--)n.remove(f);l=0}c.each(function(){n.add(a(this))}),n.refresh(),n.to(l,g),"none"!==p&&!1==h&&new G5_Core_Animation(s,100)}else"none"===p?c.animate({opacity:1},500,"easeInQuad"):new G5_Core_Animation(s);s.imagesLoaded({background:!0},function(){G5_Core.owlCarousel.init(s),G5_Core.util.magnificPopup(s),G5_Core.lazyLoad.init(s),s.trigger("gf_pagination_ajax_success",[t,d])})},f),0<r.length&&r.remove(),s.append(g)},getCurrentPage:function(e,a){var t=this,i=e.attr("href"),n=1;return a===t.paging.paginationAjax||a===t.paging.loadMore||a===t.paging.nextPrev?/[\?&amp;]paged=\d+/gi.test(i)?(n=/[\?&amp;]paged=\d+/gi.exec(i)[0],n=parseInt(/\d+/gi.exec(n)[0],10)):/page\/\d+/gi.test(i)&&(n=/page\/\d+/gi.exec(i)[0],n=parseInt(/\d+/gi.exec(n)[0],10)):"infinite-scroll"===a&&(n=parseInt(e.data("paged"),10)),{paged:n,url:i}}},G5_Core.blog={ajax:!1,init:function(){this.updateAjaxPosts(),this.processQuote(),this.events(),this.processThumbnail()},events:function(){var e=this;a(window).resize(function(){e.processQuote(),e.processThumbnail()})},updateAjaxPosts:function(){var e=this;t.on("gf_pagination_ajax_success",function(t,i){"post"===i.settings.post_type&&a(t.target).imagesLoaded({background:!0},function(){e.processQuote(a(t.target)),e.processThumbnail(a(t.target)),a(t.target).trigger("gf_update_ajax_post",[i])})})},processQuote:function(e){"undefined"==typeof e&&(e=t),a(".entry-quote-thumbnail",e).each(function(){var e=a(".entry-quote-content",a(this)),t=a(".block-center-inner",a(this));a(this).removeClass("normal"),t.height()>e.height()&&a(this).addClass("normal"),a(this).trigger("gf_process_quote_done")})},processThumbnail:function(e){"undefined"==typeof e&&(e=t),a(".entry-thumb-wrap",e).each(function(){320>=a(this).width()?a(this).addClass("thumb-small"):a(this).removeClass("thumb-small")})}},G5_Core.custom_vc={init:function(){setTimeout(this.wayPoints,500)},wayPoints:function(){a(".wpb_animate_when_almost_visible:not(.wpb_start_animation)").waypoint(function(){a(this.element).addClass("wpb_start_animation animated"),this.destroy()},{offset:"85%"}),a(".vc_progress_bar").waypoint(function(){a(this.element).find(".vc_single_bar").each(function(e){var t=a(this),i=t.find(".vc_bar"),n=i.data("percentage-value");setTimeout(function(){i.css({width:n+"%"})},200*e)}),this.destroy()},{offset:"85%"})},initVCTab:function(){var t=0;a("a",".vc_tta-tabs ul.vc_tta-tabs-list").off("click").on("click",function(i){if(a(this).parent().hasClass("vc_active")&&(t=1),i.preventDefault(),0==t){t=1;var e=a(this).parent().parent(),n=a(this).closest(".vc_general"),s=a(a(this).attr("href"),n),o="",r="";n.css("height",n.outerHeight()),"undefined"!=typeof e&&(a("li",e).removeClass("vc_active"),a(this).parent().addClass("vc_active"),a("li a",e).each(function(){o=a(this).attr("href"),0<a(o+".vc_active",n).length&&(r=a(o+".vc_active",n))}),r.fadeOut(400,function(){r.removeClass("vc_active"),r.fadeIn(),s.fadeIn(0,function(){s.addClass("vc_active"),t=0,s.trigger("mouseover")})})),setTimeout(function(){n.css("height","auto")},1500)}else t=0;return!1})}},G5_Core.widget={init:function(){this.category_count(),this.category_caret(),this.calendar(),this.canvas()},category_count:function(){a("li",".widget_product_categories,.widget_categories,.widget_archive").each(function(){var e=a(this).find("> span.count");if(e.length){var t=a(this).find("> a");e.detach().appendTo(t).show()}})},category_caret:function(){a("li",".widget_categories, .widget_pages, .widget_nav_menu, .widget_product_categories").each(function(){a(this).find("> ul").length&&(a(this).addClass("has-children"),a(this).hasClass("current_page_ancestor")||a(this).hasClass("current_page_parent")||a(this).hasClass("current-cat-parent")||a(this).hasClass("current-cat-ancestor")?a(this).append("<span class=\"cat-caret fa fa-plus in\"></span>"):a(this).append("<span class=\"cat-caret fa fa-plus\"></span>"))}),a(".cat-caret",".widget_categories, .widget_pages, .widget_nav_menu, .widget_product_categories").on("click",function(){a(this).toggleClass("in"),a(" > ul",a(this).parent()).slideToggle()})},calendar:function(){a(".widget.widget_calendar table tbody td a").each(function(){a(this).parent().addClass("active")})},canvas:function(){var e=a(".gf-sidebar-canvas"),t=e.find(".primary-sidebar-inner");if(0!==e.length){var i=a("#gf-wrapper"),n=i.attr("class");G5_Core.util.isDesktop()||(e.css({opacity:0,visibility:"hidden"}),e.addClass(n),t.perfectScrollbar({wheelSpeed:.5,suppressScrollX:!0}),setTimeout(function(){e.css({opacity:"",visibility:""})},1e3));var s=a(window).height();a(window).on("resize",function(){G5_Core.util.isDesktop()?e.removeClass(n):a(window).height()===s&&(e.css({opacity:0,visibility:"hidden"}),e.addClass(n),t.perfectScrollbar({wheelSpeed:.5,suppressScrollX:!0}),setTimeout(function(){e.css({opacity:"",visibility:""})},1e3))}),a(".gf-sidebar-toggle").on("click",function(){a(this).closest(".gf-sidebar-canvas").toggleClass("in")})}}},G5_Core.sticky={init:function(){this.initSticky(),setTimeout(function(){G5_Core.sticky.initSticky()},1e3),this.responsive()},initSticky:function(e){if(a.fn.hcSticky){"undefined"==typeof e&&(e=t);var i=G5_Core.util.getScrollOffset(),n={top:i};G5_Core.util.isDesktop()&&a(".gf-sticky",e).each(function(){var e=a(this);if(e.data("hcSticky"))e.hcSticky("reinit");else{var t=a.extend({},n,e.data("sticky-options"));e.hcSticky(t)}})}},responsive:function(){t.on("resized.hcSticky",function(e,t){if(!G5_Core.util.isDesktop()){var i=a(t);i.data("hcSticky")&&i.hcSticky("destroy"),i.removeAttr("style")}})}},G5_Core.header={init:function(){this.events(),this.sticky(),this.retinaLogo(),this.adminBar(),this.vertical(),this.navSpacing()},events:function(){var e=this;a(window).on("resize",function(){e.navSpacing(),e.adminBar()})},isDesktop:function(){var e=991,t=a("header.main-header");return t.length&&(e=parseInt(t.data("responsive-breakpoint"),10)),window.matchMedia("(min-width: "+(e+1)+"px)").matches},navSpacing:function(){var e=this,t=a("header.main-header");if(0!==t.length){var i={"header-1":{"header.main-header .main-menu":">li"},"header-2":{"header.main-header .main-menu":">li"},"header-3":{"header.main-header .main-menu":">li"},"header-4":{"header.main-header .main-menu":">li"},"header-5":{"header.main-header .main-menu":">li"},"header-6":{"header.main-header .main-menu":">li"}},s=t.data("layout");if("undefined"!=typeof i[s]){var o=0,r=0,d=0,l=0,c=t.data("navigation");for(var g in c||(c=30),i[s])a(g).each(function(){r=a(this).width(),o=0,d=0,n?a(i[s][g],this).css("margin-right",""):a(i[s][g],this).css("margin-left",""),a(i[s][g],this).each(function(){o+=a(this).width(),d++}),1<d&&(d--,o+d*c>r&&(l=Math.floor((r-o)/d),10>l&&(l=10),n?a(i[s][g],this).not(":first").css("margin-right",l+"px"):a(i[s][g],this).not(":first").css("margin-left",l+"px")))})}}},sticky:function(){var i=this;a(".header-sticky").each(function(){var n=a(this),s=n.closest("header"),o=s.data("sticky-skin"),r=s.find("[data-nav-skin]");if(!(a(document).outerHeight()-n.outerHeight()<=e.outerHeight())){n.wrap("<div class='header-sticky-wrapper'></div>");var d=n.closest(".header-sticky-wrapper");if(r.length)var l=r.data("nav-skin");n.on("affix.bs.affix",function(){var e=G5_Core.util.getAdminBarOffset();t.hasClass("bordered")&&i.isDesktop()&&(e+=30,n.css("width",t.width()-60)),n.css("top",e),"undefined"!=typeof o&&(r.length&&"undefined"!=typeof l&&r.removeClass(l),n.addClass(o)),d.length&&d.addClass("affix-wrap"),a(window).trigger("x-menu-change")}),n.on("affix-top.bs.affix",function(){n.css("top",""),n.css("width",""),"undefined"!=typeof o&&(n.removeClass(o),r.length&&"undefined"!=typeof l&&r.addClass(l)),d.length&&d.removeClass("affix-wrap"),a(window).trigger("x-menu-change")}),n.affix({offset:{top:function(){var e=1,t=s.find(".top-bar"),i=a("#wpadminbar"),n=s.find(".header-above");return e+=s.offset().top,i.length&&"absolute"==i.css("position")&&(e+=i.outerHeight()),s.hasClass("mobile-header")&&(t=s.find(".mobile-top-bar")),t.length&&(e+=t.outerHeight()),n.length&&(e+=n.outerHeight()),e}}})}});var n=0;a(window).scroll(function(){var e=a(this).scrollTop();n>e?a(".header-sticky").each(function(){0===a(this).find(".menu-one-page").length&&0<a(this).closest("[data-sticky-type=\"scroll_up\"]").length&&a(this).hasClass("header-hidden")&&a(this).removeClass("header-hidden")}):a(".header-sticky").each(function(){if(0===a(this).find(".menu-one-page").length&&0<a(this).closest("[data-sticky-type=\"scroll_up\"]").length){var t=a(this).closest(".header-sticky-wrapper");t.length&&e>t.offset().top+a(this).outerHeight()&&!a(this).hasClass("header-hidden")&&a(this).addClass("header-hidden")}}),n=e})},retinaLogo:function(){(window.matchMedia("only screen and (min--moz-device-pixel-ratio: 1.5)").matches||window.matchMedia("only screen and (-o-min-device-pixel-ratio: 3/2)").matches||window.matchMedia("only screen and (-webkit-min-device-pixel-ratio: 1.5)").matches||window.matchMedia("only screen and (min-device-pixel-ratio: 1.5)").matches)&&a("img[data-retina]").each(function(){a(this).attr("src",a(this).attr("data-retina"))})},adminBar:function(){var e=a("#wpadminbar");window.matchMedia("(max-width: 600px)").matches?e.css("top","-46px"):e.css("top","")},vertical:function(){var e=a(".main-header.header-vertical");if(0!==e.length){e.css("top",G5_Core.util.getAdminBarOffset());var t=e.find(".header-above"),i=e.find(".primary-menu"),n=e.find(".header-customize"),s=e.height();t.length&&(s-=t.outerHeight()),n.length&&(s-=n.outerHeight()),i.css("max-height",s),i.perfectScrollbar({wheelSpeed:.5,suppressScrollX:!0}),i.on("gf_menu_vertical_clicked",function(){setTimeout(function(){i.perfectScrollbar("update")},500)}),a(window).on("resize",function(){e.css("top",G5_Core.util.getAdminBarOffset()),s=e.height(),t.length&&(s-=t.outerHeight()),n.length&&(s-=n.outerHeight()),i.css("max-height",s),i.perfectScrollbar("update")})}}},G5_Core.menu={init:function(){this.mega(),this.onePage(),this.menuCaret(),this.vertical()},menuCaret:function(){a(".gf-menu-vertical,.main-menu").each(function(){a("li > a",a(this)).each(function(){var e=a(this);a("> ul",e.parent()).length&&e.append("<b class=\"menu-caret\"></b>")})})},vertical:function(){a(".gf-menu-vertical:not(.x-nav-menu) li").on("click",function(e){if(0!=a("> ul",this).length&&!(0<a(e.target).closest(a("> ul",this)).length)){if(0<a(e.target).closest(a("> a > span",this)).length){var t="";if("undefined"!=typeof e.target&&null!=e.target&&"undefined"!=typeof e.target.baseURI&&null!=e.target.baseURI){var i=e.target.baseURI.split("#");0<i.length&&(t=i[0]);var n=a("> a",this);if(0<n.length){var s=n.attr("href");if("#"!=s&&("undefined"!=typeof s&&null!=s&&(s=s.split("#")[0]),t!=s))return}}}e.preventDefault(),a(this).toggleClass("menu-open"),a("> ul",this).slideToggle(),a(this).trigger("gf_menu_vertical_clicked")}})},mega:function(){a(".x-nav-menu > li a").on("hover",function(){var e=a(this).next("ul").find(".x-mega-sub-menu");e.length&&new G5_Core_Animation(e)})},onePage:function(){"function"==typeof a().onePageNav&&a(".menu-one-page").onePageNav({currentClass:"menu-current",changeHash:!1,scrollSpeed:750,scrollThreshold:0,filter:"",easing:"swing"})}},G5_Core.footer={init:function(){this.events(),this.footerFixed()},events:function(){e.on("resize",this.footerFixed)},footerFixed:function(){window.matchMedia("(max-width: 768px)").matches?t.css("margin-bottom",""):setTimeout(function(){var i=a("footer.main-footer-wrapper");if(i.hasClass("footer-fixed")){var n=0<a("header.main-header .sticky-wrapper").length?55:0,s=a("#wpadminbar"),o=0<s.length?s.outerHeight():0;e.height()>=i.outerHeight()+n+o?(0<a("body.bordered").length?t.css("margin-bottom",i.outerHeight()+30+"px"):t.css("margin-bottom",i.outerHeight()+"px"),i.removeClass("static")):(t.css("margin-bottom",""),i.addClass("static"))}},100)}},a(document).ready(function(){G5_Core.util.init(),G5_Core.loading_content.init(),G5_Core.sticky.init(),G5_Core.lazyLoad.init(),G5_Core.isotope.init(),G5_Core.owlCarousel.init(),G5_Core.search_popup.init(),G5_Core.search_ajax.init(),G5_Core.off_canvas.init(),G5_Core.blog.init(),G5_Core.widget.init(),G5_Core.pagination_ajax.init(),G5_Core.custom_vc.init(),new G5_Core_Animation,G5_Core.header.init(),G5_Core.menu.init(),G5_Core.footer.init()})})(jQuery);